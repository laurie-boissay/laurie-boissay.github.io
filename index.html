---
layout: page
title: "Recettes low carb"
description: "Mes recettes low carb (recettes faibles en glucides). Index par catégories."
page_h1: "Mes recettes low carb"
page_h3: "ou recettes faibles en glucides"
body_id: "home"
---

<section id="index">
  <h2>Index des recettes</h2>

  {%- comment -%}
    Tirage aléatoire (toutes recettes)
    - hide_links=true : on masque les liens fixes internes du random pick
      car la barre nav-badges est affichée juste en dessous.
  {%- endcomment -%}
  {% include random-pick.html hide_links=true %}

  {%- comment -%}
    Navigation par badges (tags fonctionnels + micronutriments)
    - Source unique des 2 lignes cliquables
  {%- endcomment -%}
  {% include nav-badges.html %}

  {%- comment -%}
    Récupération de toutes les recettes :
    - Pages avec layout: recipe
    - recipe_group obligatoire
  {%- endcomment -%}
  {%- assign all_recipes = site.pages | where: "layout", "recipe" | where_exp: "p", "p.recipe_group" -%}

  {%- comment -%}
    Tags techniques masqués dans l’UI des cartes
  {%- endcomment -%}
  {%- assign hidden_tags = "low-carb-modere,low-carb-strict,gout-sucre" | split: "," -%}

  {%- comment -%}
    Comptage des recettes testées
  {%- endcomment -%}
  {%- assign tested_count = 0 -%}
  {%- for r in all_recipes -%}
    {%- if r.recipe_tested == true -%}
      {%- assign tested_count = tested_count | plus: 1 -%}
    {%- endif -%}
  {%- endfor -%}

  <p class="small text-muted">
    <strong>{{ all_recipes.size }}</strong> recette(s).
    <span class="ms-2">Testée(s) : <strong>{{ tested_count }}</strong>.</span>
  </p>

  {%- comment -%}
    Filtre “Seulement les recettes testées”
    - Dépend de `.recipe-item[data-tested]` rendu par _includes/recipes-index.html
  {%- endcomment -%}
  {%- if all_recipes.size > tested_count -%}
    {% include filter-tested.html %}
  {%- endif -%}

  {%- comment -%}
    Regroupement par catégorie (recipe_group)
  {%- endcomment -%}
  {%- assign grouped = all_recipes | group_by: "recipe_group" | sort: "name" -%}

  {%- comment -%}
    Rendu des cartes via include factorisé
  {%- endcomment -%}
  {% include recipes-index.html grouped=grouped hidden_tags=hidden_tags %}
</section>


<!DOCTYPE html>
<html lang="fr">
<head>
  {% include head.html %}

  {%- if page.extra_head -%}
    {{ page.extra_head }}
  {%- endif -%}

  <!-- Styles locaux (layout recipe) -->
  <style>
    .recipe-badges-line{
      display:flex;
      flex-wrap:nowrap;            /* une seule ligne */
      gap:.35rem;
      list-style:none;
      padding:0;
      margin:.25rem 0 0 0;
      overflow-x:auto;             /* scroll horizontal si trop long */
      -webkit-overflow-scrolling: touch;
    }
    .recipe-badges-line li{
      display:flex;
      align-items:center;
      font-size:1.15rem;
      line-height:1;
      white-space:nowrap;
    }
    .recipe-badges-wrap{
      margin-top:.35rem;
    }
  </style>
</head>

<body class="container-fluid recipe{% if page.body_id %} {{ page.body_id }}{% endif %}">
  {% include recipe-header.html %}
  {% include navbar.html %}

  <main class="site-main">
    <div class="site-container">

      {% include bandeau-non-teste.html %}

      {%- assign hidden_tags = "low-carb-modere,low-carb-strict,gout-sucre" | split: "," -%}

      <header class="recipe-head">
        <h1 class="recipe-title">{{ page.recipe_title | default: page.title }}</h1>

        <!-- Sous-titre temporairement masquÃ© : on n'affiche plus recipe_subtitle -->

        <div class="recipe-badges-wrap">
          <!-- Ligne 1 : badges (tags) -->
          {% if page.tags %}
            <ul class="recipe-badges-line badges-tags" aria-label="Badges">
              {% for tag in page.tags %}
                {% unless hidden_tags contains tag %}
                  {% case tag %}
                    {% when "tres-proteine" %}<li title="TrÃ¨s protÃ©inÃ©">ğŸ’ª</li>
                    {% when "riche-en-fibres" %}<li title="Riche en fibres">ğŸ’©</li>
                    {% when "rapide" %}<li title="Rapide">â±ï¸</li>
                    {% when "congelable" %}<li title="Congelable">â„ï¸</li>
                    {% when "micro-ondable" %}<li title="Micro-ondable">â™¨ï¸</li>
                    {% when "peu-calorique" %}<li title="Peu calorique">ğŸª¶</li>
                    {% when "calorique" %}<li title="Calorique">ğŸ”¥</li>
                    {% when "longue" %}<li title="PrÃ©paration longue">ğŸŒ</li>
                  {% endcase %}
                {% endunless %}
              {% endfor %}
            </ul>
          {% endif %}

          <!-- Ligne 2 : micronutriments (affichÃ©e seulement si prÃ©sents) -->
          {% assign micros = page.badges_nutritionnels | default: "" %}
          {% if micros and micros.size > 0 %}
            <ul class="recipe-badges-line badges-micro" aria-label="Micronutriments">
              {% for m in micros %}
                {% case m %}
                  {% when "omega-3" %}<li title="OmÃ©ga-3">ğŸŸ</li>

                  {% when "vitamine-a" %}<li title="Vitamine A">ğŸ‘ï¸</li>
                  {% when "vitamine-c" %}<li title="Vitamine C">ğŸ‹</li>
                  {% when "vitamine-d" %}<li title="Vitamine D">ğŸŒ¤ï¸</li>
                  {% when "vitamine-e" %}<li title="Vitamine E">ğŸ›¡ï¸</li>
                  {% when "vitamine-k" %}<li title="Vitamine K">ğŸ©¸</li>
                  {% when "vitamine-b9" %}<li title="Vitamine B9">ğŸŒ±</li>
                  {% when "vitamine-b12" %}<li title="Vitamine B12">ğŸ¥©</li>

                  {% when "calcium" %}<li title="Calcium">ğŸ¦´</li>
                  {% when "fer" %}<li title="Fer">ğŸ§²</li>
                  {% when "magnesium" %}<li title="MagnÃ©sium">âš¡</li>
                  {% when "potassium" %}<li title="Potassium">ğŸŒ</li>
                  {% when "zinc" %}<li title="Zinc">ğŸ”©</li>
                  {% when "selenium" %}<li title="SÃ©lÃ©nium">ğŸ§ª</li>
                  {% when "iode" %}<li title="Iode">ğŸŒŠ</li>
                {% endcase %}
              {% endfor %}
            </ul>
          {% endif %}
        </div>
      </header>

      <div class="content-surface recipe-surface">
        {{ content }}
      </div>

      {% include footer.html %}

    </div>
  </main>

  {% include scripts.html %}
</body>
</html>

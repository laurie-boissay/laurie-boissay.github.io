---
layout: page
---

<section class="site-container" id="tag-index">

  <script>
    document.body.dataset.filterType = "{{ page.filter_type | escape }}";
    document.body.dataset.filterId   = "{{ page.filter_id   | escape }}";
  </script>

  {% include random-pick.html hide_links=true %}
  
    {%- comment -%}
    Recherche par mots-clés (sur la sélection filtrée)
  {%- endcomment -%}
  {% include recipes-search.html
    placeholder="Chercher dans cette sélection (ex. poulet, saumon, rapide…)"
  %}

  {% include nav-shortcuts.html
    title="Raccourcis"
    hint="Changer rapidement de filtre (tags fonctionnels et micronutriments)."
  %}

  {%- assign recipes = site.pages | where: "layout", "recipe" -%}
  {%- assign filtered = "" | split: "" -%}

  {%- for r in recipes -%}
    {%- if page.filter_type == "tag" and page.filter_id and r.tags contains page.filter_id -%}
      {%- assign filtered = filtered | push: r -%}
    {%- elsif page.filter_type == "micro" and page.filter_id and r.badges_nutritionnels contains page.filter_id -%}
      {%- assign filtered = filtered | push: r -%}
    {%- endif -%}
  {%- endfor -%}

  {% include filter-description.html
    filter_type=page.filter_type
    filter_id=page.filter_id
  %}

  {% include recipes-grouped-grid.html recipes=filtered cta_label="Voir la fiche" %}
</section>

